new Vue({
  el: '#app',
  vuetify: new Vuetify(),
  data() {
    return {
      authorized: true,
      debug: true,
      applicationConfiguration,
      surveyConfiguration,
      formSubmitting: false,
      survey
    }
  },
  mounted() {
    this.debug && this.debugData();
  },
  methods: {
    debugData() {
      this.debug && console.log(this.$data)
    },
    async onSubmitPreferenceForm($event) {
      try {
        const postData = [];
        const event = $event;
        console.log('Event', $event)
        for(const e in event){

          const value = Array.isArray(event[e]) ? event[e].join(', ') : event[e];
          postData.push({
            Name: e,
            Value: value
          })
        }

        console.log(postData)
        const submitRequest = await axios.post(`${this.apiBaseURL}submitPreferenceForm`, {
          postData
        })

        console.log(submitRequest)

      } catch (err) {
        console.log(err)
        Vue.$toast.success(`There was an error: [${err.message}]`)
      }
    }
  },
  computed: {
    apiBaseURL() {
      return `${this.applicationConfiguration.apiBaseURL}?survey=${this.survey}&action=`
    },
    branding() {
      return this.applicationConfiguration.branding.default
    }
  }
})